<script>
  var schedules = [
    <% @schedules.each do |schedule| %>
      { id: <%= schedule.id %>, schetime: new Date('<%= schedule.schetime.strftime('%T') %>') },
    <% end %>
  ];

  document.addEventListener('DOMContentLoaded', function() {
    schedules.forEach(function(schedule) {
      if (new Date() >= schedule.schetime) {
        showPopup('Schedule ID ' + schedule.origin + ' has arrived!');
      }
    });

    function showPopup(message) {
      alert("messagetest");
    }
  });
</script>